# ch5

## 运算符

赋值: =
c支持连续赋值,从右赋值到左
```
a=b=c=1;
```

加法运算: +(正号)

减法运算: -(负号)

乘法: *

除法: /
整数除法会截尾,"趋零截尾"不会四舍五入

整数和小数做除,整数会被转为小数(double),结果也是小数

长度: sizeof

变量名称可以不带括号,类型要带括号,计算结果单位为字节
size_t是unsigned int或unsigned long的别名

取模:%
对浮点数无效

增量和减量:++ --
有前缀模式和后缀模式,只能作用于变量

优先级仅次于括号

在下列情况下应该慎重考虑对同一变量进行增量和减量,因为不同编译器可能会带来不同的结果(编写代码时去纠结不同编译器的行为浪费时间且没有意义):
1. 同一个变量多次出现在同一个函数的多个参数时
2. 同一个变量多次出现在同一个表达式时

副作用与顺序点和表达式的关系解释了为什么要这么做:可以简单的理解为变量赋值在整个表达式计算结束后完成,但是包含增量和减量的表达式在中存在赋值的行为,有的编译器在表达式过程中就完成了变量赋值,而有的可能却没有.

c标准没有明确的规定,所以不同编译器的实现可能会有差别.
## 表达式和语句
表达式:运算符和操作数组合

每个表达式都有一个值
```
c=3+2;
b=2+(c=8+7); //2+(c=8+7)合法但不推荐
```

语句:一般的一个分号一个语句

语句分类:
- 声明语句 int toes;
- 赋值语句 toes=10;
- 函数调用语句 printf("hello world");
- 结构化语句 while(0==0)printf("hello world");
- 空语句 ;
- 复合语句 {int toes;printf("hello world");}

副作用与顺序点:
- 副作用:c只对表达式求值,副作用则是求完值后造成变量值发生改变
- 顺序点:所有的副作用在进入下一个顺序点时必须被计算,分号标志和完整表达式是一个顺序点.while循环中的判断条件就是一个完整表达式

包含增量和减量的表达式中,增量和减量并不是完整表达式,无法保证在先计算增量或者减量后立即对对应的变量完成赋值.

## 复合语句(代码块)
一个大括号中的多个语句一起组成一个复合语句

while循环后一般需要接一个语句,通常一条语句是不够的的,用符合语句来完成.

## 类型转换
语句和表达式中通常只使用同一类型的变量和常量.

- 包含两种类型的运算中,会转为类型比较高的级别进行运算.基本数据类型级别从高到低排序:long double,double,float,unsigned long long ,long long,unsigned long,long,unsigned int ,int

- 无论有无符号char 和 short同时出现时通常自动转为int或者unsigned int
- float自动转换为double

计算的结果赋值后可能出现自动提升或者自动降级,如两个char变量进行运算后赋值给另一个char变量.提升不会导致精度丢失,但是降级会.

指派运算符:(type) 将某个常量或者变量转为type类型

## 函数
c语言中函数传递变量都是值传递

c语言中需要先声明函数原型,再进行调用

c语言是顺序执行语言,函数的声明需要在调用之前
